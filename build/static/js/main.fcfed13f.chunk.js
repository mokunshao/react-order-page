(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){t.exports=a(24)},16:function(t,e,a){},18:function(t,e,a){},20:function(t,e,a){},22:function(t,e,a){},24:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(8),i=a.n(c),s=(a(16),a(1)),o=a(2),l=a(4),u=a(3),m=a(5),d=(a(18),a(20),function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h3",null,"\u8ba2\u5355\u9996\u9875"))}}]),e}(n.Component)),h=a(9),p=a(6),b=(a(22),function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={showAlert:!1,editing:!1,stars:a.props.data.stars,comment:a.props.data.comment},a.renderEditArea=function(){return r.a.createElement("div",null,r.a.createElement("textarea",{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u8bc4\u4ef7",onChange:a.handleCommentChange,value:a.state.comment}),a.renderStars(),a.state.showAlert?r.a.createElement("div",{className:"alert"},"\u8bf7\u8f93\u5165\u8bc4\u4ef7\u5e76\u6253\u661f"):null,r.a.createElement("button",{className:"redButton",onClick:a.handleSubmitComment},"\u63d0\u4ea4"),r.a.createElement("button",{className:"greyButton",onClick:a.handleCancelComment},"\u53d6\u6d88"))},a.renderStars=function(){return r.a.createElement("div",null,[1,2,3,4,5].map(function(t,e){var n=a.state.stars>=t?"redStar":"";return r.a.createElement("span",{className:"star ".concat(n),key:e,onClick:a.handleClickStars.bind(Object(p.a)(Object(p.a)(a)),t)},"\u2605")}))},a.handleOpenEditArea=function(){a.setState(function(t){return{editing:!t.editing}})},a.handleCommentChange=function(t){a.setState({comment:t.target.value})},a.handleClickStars=function(t){a.setState({stars:t})},a.handleCancelComment=function(){a.setState({editing:!1,showAlert:!1})},a.handleSubmitComment=function(){a.state.comment&&a.state.stars?(a.setState({editing:!1}),a.props.onSubmit(a.props.data.id,a.state.comment,a.state.stars)):a.setState({showAlert:!0})},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"orderItem"},r.a.createElement("div",{className:"orderMain"},r.a.createElement("div",{className:"orderInfo"},r.a.createElement("img",{width:"100px",height:"100px",src:this.props.data.picture,alt:this.props.data.product}),r.a.createElement("div",{className:"orederDetail"},r.a.createElement("h3",null,this.props.data.product),r.a.createElement("div",null,this.props.data.shop),r.a.createElement("div",{className:"price"},"\uffe5",this.props.data.price))),r.a.createElement("div",{className:"rateButtons"},this.props.data.isCommented?r.a.createElement("button",{className:"greyButton",onClick:this.handleOpenEditArea},"\u5df2\u8bc4\u4ef7"):r.a.createElement("button",{className:"redButton",onClick:this.handleOpenEditArea},"\u672a\u8bc4\u4ef7"))),this.state.editing?this.renderEditArea():null)}}]),e}(n.Component)),f=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).componentDidMount=function(){fetch("data.json").then(function(t){t.ok&&t.json().then(function(t){a.setState({data:t})})})},a.handleOnSubmit=function(t,e,n){var r=a.state.data.map(function(a){return t===a.id?Object(h.a)({},a,{id:t,comment:e,stars:n,isCommented:!0}):a});a.setState({data:r})},a.state={data:[]},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,this.state.data.map(function(e){return r.a.createElement(b,{key:e.id,data:e,onSubmit:t.handleOnSubmit})}))}}]),e}(n.Component),E=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(f,null))}}]),e}(n.Component);i.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.fcfed13f.chunk.js.map