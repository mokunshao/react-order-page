{"version":3,"sources":["components/Header/index.js","components/OrderItem/index.js","components/OrderList/index.js","components/App/index.js","index.js"],"names":["Header","react_default","a","createElement","Component","OrderItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","showAlert","editing","stars","data","comment","renderEditArea","placeholder","onChange","handleCommentChange","value","renderStars","className","onClick","handleSubmitComment","handleCancelComment","map","item","key","lightStar","concat","handleClickStars","bind","assertThisInitialized","handleOpenEditArea","setState","e","target","onSubmit","id","width","height","src","picture","alt","product","shop","price","isCommented","OrderList","componentDidMount","fetch","then","res","ok","json","handleOnSubmit","newData","objectSpread","_this2","components_OrderItem","App","components_Header","components_OrderList","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.fcfed13f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <header>\r\n        <h3>订单首页</h3>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\nclass OrderItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showAlert: false,\r\n      editing: false,\r\n      stars: this.props.data.stars,\r\n      comment: this.props.data.comment\r\n    };\r\n    this.renderEditArea = () => {\r\n      return (\r\n        <div>\r\n          <textarea\r\n            placeholder=\"请输入您的评价\"\r\n            onChange={this.handleCommentChange}\r\n            value={this.state.comment}\r\n          />\r\n          {this.renderStars()}\r\n          {this.state.showAlert ? <div className=\"alert\">请输入评价并打星</div> : null}\r\n          <button className=\"redButton\" onClick={this.handleSubmitComment}>\r\n            提交\r\n          </button>\r\n          <button className=\"greyButton\" onClick={this.handleCancelComment}>\r\n            取消\r\n          </button>\r\n        </div>\r\n      );\r\n    };\r\n    this.renderStars = () => {\r\n      return (\r\n        <div>\r\n          {[1, 2, 3, 4, 5].map((item, key) => {\r\n            const lightStar = this.state.stars >= item ? \"redStar\" : \"\";\r\n            return (\r\n              <span\r\n                className={`star ${lightStar}`}\r\n                key={key}\r\n                onClick={this.handleClickStars.bind(this,item)}\r\n              >\r\n                ★\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    };\r\n    this.handleOpenEditArea = () => {\r\n      this.setState(state => ({\r\n        editing: !state.editing\r\n      }));\r\n    };\r\n    this.handleCommentChange = e => {\r\n      this.setState({\r\n        comment: e.target.value\r\n      });\r\n    };\r\n    this.handleClickStars = stars => {\r\n      this.setState({\r\n        stars\r\n      });\r\n    };\r\n    this.handleCancelComment = () => {\r\n      this.setState({\r\n        editing: false,\r\n        showAlert: false\r\n      });\r\n    };\r\n    this.handleSubmitComment = () => {\r\n      if (this.state.comment && this.state.stars) {\r\n        this.setState({\r\n          editing: false\r\n        });\r\n        this.props.onSubmit(\r\n          this.props.data.id,\r\n          this.state.comment,\r\n          this.state.stars\r\n        );\r\n      } else {\r\n        this.setState({ showAlert: true });\r\n      }\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"orderItem\">\r\n        <div className=\"orderMain\">\r\n          <div className=\"orderInfo\">\r\n            <img\r\n            width=\"100px\"\r\n            height=\"100px\"\r\n              src={this.props.data.picture}\r\n              alt={this.props.data.product}\r\n            />\r\n            <div className=\"orederDetail\">\r\n              <h3>{this.props.data.product}</h3>\r\n              <div>{this.props.data.shop}</div>\r\n              <div className=\"price\">￥{this.props.data.price}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"rateButtons\">\r\n            {this.props.data.isCommented ? (\r\n              <button className=\"greyButton\" onClick={this.handleOpenEditArea}>\r\n                已评价\r\n              </button>\r\n            ) : (\r\n              <button className=\"redButton\" onClick={this.handleOpenEditArea}>\r\n                未评价\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {this.state.editing ? this.renderEditArea() : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OrderItem;\r\n","import React, { Component } from \"react\";\r\nimport OrderItem from \"../OrderItem\";\r\n\r\nclass OrderList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: []\r\n    };\r\n  }\r\n  componentDidMount = () => {\r\n    fetch(\"data.json\").then(res => {\r\n      if (res.ok) {\r\n        res.json().then(data => {\r\n          this.setState({ data });\r\n        });\r\n      }\r\n    });\r\n  };\r\n  handleOnSubmit = (id, comment, stars) => {\r\n    const newData = this.state.data.map(item => {\r\n      return id === item.id\r\n        ? {\r\n            ...item,\r\n            id,\r\n            comment,\r\n            stars,\r\n            isCommented: true\r\n          }\r\n        : item;\r\n    });\r\n    this.setState({ data: newData });\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.data.map(item => {\r\n          return (\r\n            <OrderItem\r\n              key={item.id}\r\n              data={item}\r\n              onSubmit={this.handleOnSubmit}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OrderList;\r\n","import React, { Component } from \"react\";\nimport \"./style.css\";\nimport Header from \"../Header\";\nimport OrderList from \"../OrderList\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Header />\n        <OrderList />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n"],"sourceRoot":""}